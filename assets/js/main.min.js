jQuery(document).ready((function(e){e(".menu-item-has-children").on("click",(function(){e(this).toggleClass("active"),e(this).find(".sub-menu").toggleClass("open"),e(".phone-wrap__head, .select__head").removeClass("active"),e(".phone-wrap__inner, .select__dropdown").removeClass("open")})),e(".phone-wrap__head").on("click",(function(){e(this).toggleClass("active"),e(this).parent().find(".phone-wrap__inner").toggleClass("open"),e(".menu-item-has-children, .select__head").removeClass("active"),e(".sub-menu, .select__dropdown").removeClass("open")})),e(document).click((function(){e(".menu-item-has-children, .phone-wrap__head, .select__head").removeClass("active"),e(".sub-menu, .phone-wrap__inner, .select__dropdown").removeClass("open")})),e(".menu-item-has-children, .phone-wrap__head, .select__head").click((function(e){e.stopPropagation()}));new Swiper(".hero-swiper",{slidesPerView:1,effect:"fade",loop:!0,pagination:{el:".hero .swiper-pagination",clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1}});new Swiper(".hot__tab.active .hot-swiper",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".hot__tab.active .swiper-button-next",prevEl:".hot__tab.active .swiper-button-prev"},breakpoints:{991:{slidesPerView:4,spaceBetween:24}}});e(".hot__tab:not(.active)").hide(),e(document).on("click",".hot__button:not(.active)",(function(){e(this).addClass("active").siblings().removeClass("active").closest(".hot").find(".hot__tab").removeClass("active").hide().eq(e(this).index()).addClass("active").fadeIn(),new Swiper(".hot__tab.active .hot-swiper",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".hot__tab.active .swiper-button-next",prevEl:".hot__tab.active .swiper-button-prev"},breakpoints:{991:{slidesPerView:4,spaceBetween:24}}})})),e(".about-video").on("click",(function(){e(this).addClass("play")}));new Swiper(".sales-swiper",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".sales-swiper .swiper-button-next",prevEl:".sales-swiper .swiper-button-prev"},breakpoints:{991:{slidesPerView:2,spaceBetween:24}}});if(e(".menu-btn").on("click",(function(){e(this).toggleClass("open"),e("body").toggleClass("modal-open"),e(".mobile-modal").toggleClass("open")})),e(".mobile-modal__overlay").on("click",(function(){e(".menu-btn").removeClass("open"),e("body").removeClass("modal-open"),e(".mobile-modal").removeClass("open")})),e(".filter-block__title").on("click",(function(){e(this).toggleClass("closed"),e(this).closest(".filter-block").find(".filter-block__content").toggle(400)})),e("#price-slider").length){let t=document.getElementById("price-slider"),i=document.getElementById("pricemin"),n=document.getElementById("pricemax");const a=e("#price-slider").data("min"),o=e("#price-slider").data("max");noUiSlider.create(t,{start:[a,o],connect:!0,behaviour:"drag",range:{min:a,max:o},format:wNumb({decimals:0,thousand:"",suffix:""})}),t.noUiSlider.on("update",(function(e,t){var a=e[t];t?n.value=a:i.value=a})),i.addEventListener("change",(function(){t.noUiSlider.set([this.value,null])})),n.addEventListener("change",(function(){t.noUiSlider.set([null,this.value])}))}if(e("#height-slider").length){let t=document.getElementById("height-slider"),i=document.getElementById("heightmin"),n=document.getElementById("heightmax");const a=e("#height-slider").data("min"),o=e("#height-slider").data("max");noUiSlider.create(t,{start:[a,o],connect:!0,behaviour:"drag",range:{min:a,max:o},format:wNumb({decimals:0,thousand:"",suffix:""})}),t.noUiSlider.on("update",(function(e,t){var a=e[t];t?n.value=a:i.value=a})),i.addEventListener("change",(function(){t.noUiSlider.set([this.value,null])})),n.addEventListener("change",(function(){t.noUiSlider.set([null,this.value])}))}new HystModal({linkAttributeName:"data-hystmodal"});var t=new Swiper(".swiper-thumb",{spaceBetween:12,slidesPerView:3,watchSlidesProgress:!0,navigation:{nextEl:".main-product .swiper-button-next",prevEl:".main-product .swiper-button-prev"},breakpoints:{340:{slidesPerView:4},768:{direction:"vertical",slidesPerView:3}}});new Swiper(".swiper-gallery",{spaceBetween:0,effect:"fade",thumbs:{swiper:t}});GLightbox({});if(e(document).on("click",".plus, .minus",(function(){var t=e(this).parent(),i=parseFloat(t.find("input").val()),n=parseFloat(t.find("input").attr("max")),a=parseFloat(t.find("input").attr("min"));e(this).is(".plus")&&(n&&n<=i?t.find("input").val(n):t.find("input").val(i+1)),e(this).is(".minus")&&(a&&a>=i?t.find("input").val(a):i>a&&t.find("input").val(i-1)),t.find("input").trigger("change")})),e(".count__input").on("change",(function(){var t=parseFloat(e(this).val()),i=parseFloat(e(this).attr("min")),n=parseFloat(e(this).attr("max"));t>n&&e(this).val(n),t<i&&e(this).val(i)})),e(".select__head").on("click",(function(){e(this).toggleClass("active"),e(this).parent().find(".select__dropdown").toggleClass("open"),e(".menu-item-has-children, .phone-wrap__head").removeClass("active"),e(".sub-menu, .phone-wrap__inner").removeClass("open")})),e(document).on("click",".select__item:not(.active)",(function(){e(".select__value").text(e(this).text()),e(".select__head").removeClass("active"),e(".select__dropdown").removeClass("open"),e(this).addClass("active").siblings().removeClass("active").closest(".select").find("option").eq(e(this).index()).prop("selected",!0)})),e(".product-description__tab:not(.active)").hide(),e(document).on("click",".product-description__button:not(.active)",(function(){e(this).addClass("active").siblings().removeClass("active").closest(".product-description").find(".product-description__tab").removeClass("active").hide().eq(e(this).index()).addClass("active").fadeIn()})),e(document).on("click",".cart__payment:not(.active)",(function(){e(this).addClass("active").siblings().removeClass("active"),e(".cart__payment_delivery").hasClass("active")?e(".cart-delivery").show(400):e(".cart-delivery").hide(400)})),e("input[name=accept]").click((function(){var t=e(this).closest("form").find(".btn-submit");e(this).is(":checked")?t.removeAttr("disabled"):t.attr("disabled","disabled")})),e(document).on("click",".faq-list__item",(function(t){e(this).siblings().removeClass("active").find(".faq-list__content").hide(400),e(this).toggleClass("active").find(".faq-list__content").toggle(400)})),e("#map").length){var i="",n="";ymaps.ready((function(){n=new ymaps.Map("map",{center:[59.9887660641145,30.43648499999996],zoom:15},{searchControlProvider:"yandex#search"}),i=new ymaps.Placemark([59.9887660641145,30.43648499999996],{hintContent:"Санкт-Петербург, Волго-Донской пр. д.4. лит. Ж",balloonContent:"Санкт-Петербург, Волго-Донской пр. д.4. лит. Ж"},{iconLayout:"default#image",iconImageHref:"/assets/img/pin.svg",iconImageSize:[48,48],iconImageOffset:[-20,-20]}),n.geoObjects.add(i),n.behaviors.disable("scrollZoom"),window.matchMedia("(max-width: 991px)").matches&&n.behaviors.disable("drag")}))}if(e(".filter-btn").on("click",(function(){e("body").toggleClass("modal-open"),e(".filter").toggleClass("open")})),e(".filter__overlay").on("click",(function(){e("body").removeClass("modal-open"),e(".filter").removeClass("open")})),e("#phone-input").length){const e=document.getElementById("phone-input");IMask(e,{mask:"+{7}(000)000-00-00"})}if(e("#phone-input2").length){const e=document.getElementById("phone-input2");IMask(e,{mask:"+{7}(000)000-00-00"})}if(e("#deliverymap").length){i="",n="";var a="";ymaps.ready((function(){function e(e){i.properties.set("iconCaption","поиск..."),ymaps.geocode(e).then((function(e){var t=e.geoObjects.get(0);a=t.getAddressLine(),i.properties.set({iconCaption:[t.getLocalities().length?t.getLocalities():t.getAdministrativeAreas(),t.getThoroughfare()||t.getPremise()].filter(Boolean).join(", "),balloonContent:t.getAddressLine()})}))}(n=new ymaps.Map("deliverymap",{center:[59.9887660641145,30.43648499999996],zoom:15},{searchControlProvider:"yandex#search"})).events.add("click",(function(t){var a=t.get("coords");i?i.geometry.setCoordinates(a):(i=function(e){return new ymaps.Placemark(e,{iconCaption:"поиск..."},{preset:"islands#violetDotIconWithCaption",draggable:!0})}(a),n.geoObjects.add(i),i.events.add("dragend",(function(){e(i.geometry.getCoordinates())}))),e(a)}))})),e(".map-modal .main-btn").on("click",(function(){e("#cart-delivery").val(a)}))}e(".filter__load-more").on("click",(function(){e(".filter-block_hidden").toggle(400),e(this).text("Ещё"==e(".filter__load-more").text()?"Скрыть":"Ещё")}));let o=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${o}px`)}));